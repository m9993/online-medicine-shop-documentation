<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: models/customerCart.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: models/customerCart.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Provides customer cart management
 * @module models/customerCart
 */

/**
 * Model to mount customer cart management related functions on.
 * @type {object}
 * @const
 * @namespace customerModel
 */

const { Result } = require("express-validator");

// cart
module.exports= {
    /**
     * Adds an item to cart.
     * @function
     * @memberof module:models/customerCart~customerModel
     * @inner
     * @param {object} newItem - New item
     * @param {object} oldCart - Old cart
     * @param {callback} results - Updated cart
     */
    add: (item, oldCart, results)=>{
      
        if(oldCart.length==0){
            var a={storedId: item.mid, storedName:item.mname, storedQty: 1, storedPrice: item.mprice };
            oldCart.push(a);
            results(oldCart);
            return;
        }
        if(oldCart.length!=0){
            var exists=false;
            for (var i = 0; i &lt; oldCart.length; i++) {
                if(oldCart[i].storedId == item.mid){
                    exists=true;
                }                
            }

            if(!exists){
                var a={storedId: item.mid, storedName:item.mname, storedQty: 1, storedPrice: item.mprice };
                oldCart.push(a);
                results(oldCart);
                return;
            }else{
                for(var i=0; i&lt;oldCart.length; i++){ 
                    if(oldCart[i].storedId==item.mid){
                        oldCart[i].storedQty++;
                        oldCart[i].storedPrice+=item.mprice;
                    }
                }
                results(oldCart);
                return;
            }

        }
        

    },

    /**
     * Reduces single quantity of an item from cart.
     * @function
     * @memberof module:models/customerCart~customerModel
     * @inner
     * @param {object} item - Item to reduce quantity
     * @param {object} oldCart - Old cart
     * @param {callback} results - Updated cart
     */
    reduceByOne:(item, oldCart, results)=>{
        for(var i=0; i&lt;oldCart.length; i++){ 
            if(oldCart[i].storedId==item.mid){
                if(oldCart[i].storedQty != 0){
                    oldCart[i].storedQty--;
                    oldCart[i].storedPrice-=item.mprice;
                }
            }
        }
        results(oldCart);
        return;
    },

    /**
     * Increases single quantity of an item from cart.
     * @function
     * @memberof module:models/customerCart~customerModel
     * @inner
     * @param {object} item - Item to increase quantity
     * @param {object} oldCart - Old cart
     * @param {callback} results - Updated cart
     */
    addByOne:(item, oldCart, results)=>{
        for(var i=0; i&lt;oldCart.length; i++){ 
            if(oldCart[i].storedId==item.mid){
                oldCart[i].storedQty++;
                oldCart[i].storedPrice+=item.mprice;
            }
        }
        results(oldCart);
        return;
    },
}


// cart</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-controllers_login.html">controllers/login</a></li><li><a href="module-controllers_logout.html">controllers/logout</a></li><li><a href="module-controllers_medicine.html">controllers/medicine</a></li><li><a href="module-controllers_order.html">controllers/order</a></li><li><a href="module-controllers_registration.html">controllers/registration</a></li><li><a href="module-controllers_user.html">controllers/user</a></li><li><a href="module-models_customerCart.html">models/customerCart</a></li><li><a href="module-models_db.html">models/db</a></li><li><a href="module-models_medicine.html">models/medicine</a></li><li><a href="module-models_order.html">models/order</a></li><li><a href="module-models_user.html">models/user</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-controllers_login-loginController.html">loginController</a></li><li><a href="module-controllers_logout-logoutController.html">logoutController</a></li><li><a href="module-controllers_medicine-medicineController.html">medicineController</a></li><li><a href="module-controllers_order-orderController.html">orderController</a></li><li><a href="module-controllers_registration-registrationController.html">registrationController</a></li><li><a href="module-controllers_user-userController.html">userController</a></li><li><a href="module-models_customerCart-customerModel.html">customerModel</a></li><li><a href="module-models_db-dbModel.html">dbModel</a></li><li><a href="module-models_medicine-medicineModel.html">medicineModel</a></li><li><a href="module-models_order-orderModel.html">orderModel</a></li><li><a href="module-models_user-userModel.html">userModel</a></li></ul><h3>Global</h3><ul><li><a href="global.html#app">app</a></li><li><a href="global.html#bodyParser">bodyParser</a></li><li><a href="global.html#cookieParser">cookieParser</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#exSession">exSession</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#logout">logout</a></li><li><a href="global.html#medicine">medicine</a></li><li><a href="global.html#order">order</a></li><li><a href="global.html#port">port</a></li><li><a href="global.html#registration">registration</a></li><li><a href="global.html#user">user</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Tue Jul 26 2022 03:43:56 GMT+0600 (Bangladesh Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
